<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sign-Up Page</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        h1 {
            color: darkblue;
            font-size: 36px;
        }
    </style>
	
	<script>
		function f1() 
        {
            // Validating first and last name
            var fname = document.getElementById("fname").value;
            var lname = document.getElementById("lname").value;
            if (fname === "") {
                alert("First name cannot be empty");
                return false;
            }
            if (lname === "") {
                alert("Last name cannot be empty");
                return false;
            }

            // Validating the drop-down menu
            var role = document.getElementById("role").value;
            if (role === "") {
                alert("Please select your role");
                return false;
            }

            // Validating radio buttons for Year
            var yearElements = document.getElementsByName("mealType");
            var yearSelected = false;
            for (var i = 0; i < yearElements.length; i++) {
                if (yearElements[i].checked) {
                    yearSelected = true;
                    break;
                }
            }
            if (!yearSelected) {
                alert("Please select your Year");
                return false;
            }

            // Validating username (e.g., COMP followed by 2 digits)
            var uname = document.getElementById("username").value;
            var unamePattern = /^[a-zA-Z]{5}[0-9]{2}$/;
            if (!unamePattern.test(uname)) {
                alert("Invalid username");
                return false;
            }

            // Validating password
            var password = document.getElementById("password").value;
            if (password.length < 6 || password.length > 10) {
                alert("Password size should be between 6 to 10 characters");
                return false;
            }
            if (!/[a-z]/.test(password)) {
                alert("Password must contain at least one lowercase character");
                return false;
            }
            if (!/[A-Z]/.test(password)) {
                alert("Password must contain at least one uppercase character");
                return false;
            }
            if (!/[0-9]/.test(password)) {
                alert("Password must contain at least one digit");
                return false;
            }
            if (!/[\@\#\$\%\&\;\:\.\,]/.test(password)) {
                alert("Password must contain at least one special character");
                return false;
            }

            // Validating phone number
            var phone = document.getElementById("pn").value;
            var phonePattern = /^[789][0-9]{9}$/;
            if (!phonePattern.test(phone)) {
                alert("Invalid phone number. Must be 10 digits starting with 7, 8, or 9");
                return false;
            }

            // Validating email
            var email = document.getElementById("email").value;
            var emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailPattern.test(email)) {
                alert("Invalid email address");
                return false;
            }

            // Display the entered data if all validations are successful
            var successMessage = "Form submitted successfully!" +
                  "<br>First Name: " + fname + 
                  "<br>Last Name: " + lname + 
                  "<br>Username: " + uname + 
                  "<br>Phone: " + phone + 
                  "<br>Email: " + email;
            
            document.getElementById("pop_messg").innerHTML = successMessage;
            return true;
        }

	</script>
</head>
<body>
    <div class="center-container">
        <img src="../pics/user.png" alt="User" style="width:200px;height:200px;"><br><br>

        <label for="" style="font-size:30px;"><b>Sign-Up</b></label><br><br>

        <form action="register.php" method="post"> <!-- Placeholder action -->
            <label for="fname">First Name:</label>
            <input type="text" id="fname" name="fname" required><br><br>

            <label for="lname">Last Name:</label>
            <input type="text" id="lname" name="lname" required><br><br>

            <label for="address">Address:</label>
            <textarea id="address" name="address" required></textarea><br><br>

            <label>Gender:</label><br>
            <input type="radio" name="gender" value="Male">Male<br>
            <input type="radio" name="gender" value="Female">Female<br>
            <input type="radio" name="gender" value="Other">Other<br><br>

            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" required><br><br>

            <label for="mealType">Probable meal type:</label><br>
            <input type="checkbox" name="mealType" value="Breakfast">Breakfast<br>
            <input type="checkbox" name="mealType" value="Lunch">Lunch<br>
            <input type="checkbox" name="mealType" value="Dinner">Dinner<br><br>

            <label for="photo">Profile Photo:</label>
            <input type="file" id="photo" name="photo" required><br><br>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required><br><br>

            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required><br><br>

            <label for="password">Set Password:</label>
            <input type="password" id="password" name="password" required><br><br>

            <label for="confirm_password">Confirm Password:</label>
            <input type="password" id="confirm_password" name="confirm_password" required><br><br>

            <label for="role">Role:</label>
            <select id="role" name="role" required>
                <option value="">----</option>
                <option value="User">User</option>
                <option value="Admin">Admin</option>
                <option value="Cook">Cook</option>
            </select><br><br>

            <label for="color">Favourite color for tiffin box:</label>
            <input type="color" id="color" name="color" required><br><br>

            <label for="rating">Rate our website design (1-10):</label>
            <input type="range" id="rating" name="rating" min="1" max="10" required><br><br>

            <input type="submit" value="Sign-up" onclick="f1()">
            <input type="reset" value="Reset">
        </form>
        <div id="pop_messg"></div>
    </div>
</body>
</html>